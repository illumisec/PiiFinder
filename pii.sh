#!/bin/bash
IFS=$'\n'
echo "Email Add Contained,IP Add Contained,MAC Add Contained,TFN Contained,CC Contained,AU Passport Contained,AU Phone No Contained" > ~/summary



for j in `find -type f`
	# For each file
	do fem=0; fip=0; fma=0; ftf=0; fcc=0; fpa=0; fph=0 
	grep -E '([A-z0-9\.\-\_]+@[A-z0-9\.\-\_]+\.[A-z]{1,3})|(\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3})|(([0-9A-F]{2}[:-]){5}([0-9A-F]{2}))|(\b\d{9}\b)|((?:4[0-9]{12}(?:[0-9]{3})?|(?:5[1-5][0-9]{2}| 222[1-9]|22[3-9][0-9]|2[3-6][0-9]{2}|27[01][0-9]|2720)[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|6(?:011|5[0-9]{2})[0-9]{12}|(?:2131|1800|35\d{3})\d{11}))|(\b(N|M|E|P)\d{7}\b)|(\b\(?(?:\+?61|0)(?:(?:2\)?[ -]?(?:3[ -]?[38]|[46-9][ -]?[0-9]|5[ -]?[0-35-9])|3\)?(?:4[ -]?[0-57-9]|[57-9][ -]?[0-9]|6[ -]?[1-67])|7\)?[ -]?(?:[2-4][ -]?[0-9]|5[ -]?[2-7]|7[ -]?6)|8\)?[ -]?(?:5[ -]?[1-4]|6[ -]?[0-8]|[7-9][ -]?[0-9]))(?:[ -]?[0-9]){6}|4\)?[ -]?(?:(?:[01][ -]?[0-9]|2[ -]?[0-57-9]|3[ -]?[1-9]|4[ -]?[7-9]|5[ -]?[018])[ -]?[0-9]|3[ -]?0[ -]?[0-5])(?:[ -]?[0-9]){5})\b)' $j > temp
		fem=$(($fem + $(grep -c -E '[A-z0-9\.\-\_]+@[A-z0-9\.\-\_]+\.[A-z]{1,3}' temp)))
		fip=$(($fip + $(grep -c -E '\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}' temp)))
		fma=$(($fma + $(grep -c -E '([0-9A-F]{2}[:-]){5}([0-9A-F]{2})' temp)))
		ftf=$(($ftf + $(grep -c -E '\b\d{9}\b' temp)))
		fcc=$(($fcc + $(grep -c -E '(?:4[0-9]{12}(?:[0-9]{3})?|(?:5[1-5][0-9]{2}| 222[1-9]|22[3-9][0-9]|2[3-6][0-9]{2}|27[01][0-9]|2720)[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|6(?:011|5[0-9]{2})[0-9]{12}|(?:2131|1800|35\d{3})\d{11})' temp)))
		fpa=$(($fpa + $(grep -c -E '\b(N|M|E|P)\d{7}\b' temp)))
		fph=$(($fph + $(grep -c -E '\b\(?(?:\+?61|0)(?:(?:2\)?[ -]?(?:3[ -]?[38]|[46-9][ -]?[0-9]|5[ -]?[0-35-9])|3\)?(?:4[ -]?[0-57-9]|[57-9][ -]?[0-9]|6[ -]?[1-67])|7\)?[ -]?(?:[2-4][ -]?[0-9]|5[ -]?[2-7]|7[ -]?6)|8\)?[ -]?(?:5[ -]?[1-4]|6[ -]?[0-8]|[7-9][ -]?[0-9]))(?:[ -]?[0-9]){6}|4\)?[ -]?(?:(?:[01][ -]?[0-9]|2[ -]?[0-57-9]|3[ -]?[1-9]|4[ -]?[7-9]|5[ -]?[018])[ -]?[0-9]|3[ -]?0[ -]?[0-5])(?:[ -]?[0-9]){5})\b' temp)))
	rm temp
	echo "$cus,,,$fem,$fip,$fma,$ftf,$fcc,$fpa,$fph,$j" >> ~/summary
done
